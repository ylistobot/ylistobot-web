<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YLISTOBOT - Trading Futurista</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=JetBrains+Mono:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-green: #39FF14;
            --dark-gray: #0b0f19;
            --panel-gray: #0e1525;
        }
        body {
            background-color: var(--dark-gray);
            color: #e5e7eb;
            font-family: 'Inter', sans-serif;
        }
        .neon-text {
            color: var(--neon-green);
            text-shadow: 0 0 10px rgba(57, 255, 20, 0.5);
        }
        .neon-border {
            border: 1px solid rgba(57, 255, 20, 0.3);
            box-shadow: 0 0 15px rgba(57, 255, 20, 0.1);
        }
        .bg-panel {
            background-color: var(--panel-gray);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }
        .gradient-bg {
            background: radial-gradient(circle at top right, #161b22, #0b0f19);
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <nav class="p-6 border-b border-gray-800 flex justify-between items-center backdrop-blur-md sticky top-0 z-50">
        <h1 class="text-2xl font-bold neon-text font-mono">YLISTOBOT_</h1>
        <a href="https://t.me/ylisto_bot" target="_blank" class="bg-green-500 hover:bg-green-600 text-black px-6 py-2 rounded-full font-bold transition flex items-center">
            TELEGRAM <i class="fab fa-telegram ml-2"></i>
        </a>
    </nav>

    <main class="container mx-auto px-6 py-12">
        <!-- Hero Section -->
        <section class="text-center mb-20">
            <h2 class="text-5xl md:text-7xl font-bold mb-6 tracking-tight">Trading de Futuros <br><span class="neon-text">Automatizado</span></h2>
            <p class="text-gray-400 text-xl max-w-2xl mx-auto mb-10">Potencia tu estrategia con señales precisas, gestión de riesgo inteligente y transparencia total en tiempo real.</p>
            <a href="https://t.me/ylisto_bot" target="_blank" class="inline-block neon-border bg-transparent text-white text-lg px-10 py-4 rounded-full font-bold transition hover:bg-green-500 hover:text-black">
                VER SEÑALES AHORA
            </a>
        </section>

        <!-- Dashboard Stats -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
            <div class="bg-panel p-6 rounded-2xl neon-border">
                <p class="text-gray-400 text-sm mb-2 uppercase tracking-wider font-bold">Cantidad de Operaciones Cerradas</p>
                <h3 id="total-trades" class="text-3xl font-bold neon-text font-mono">--</h3>
            </div>
            <div class="bg-panel p-6 rounded-2xl neon-border">
                <p class="text-gray-400 text-sm mb-2 uppercase tracking-wider font-bold">Winrate (%)</p>
                <h3 id="winrate" class="text-3xl font-bold neon-text font-mono">--%</h3>
            </div>
            <div class="bg-panel p-6 rounded-2xl neon-border">
                <p class="text-gray-400 text-sm mb-2 uppercase tracking-wider font-bold">PnL Diario</p>
                <h3 id="daily-pnl" class="text-3xl font-bold font-mono">0.00%</h3>
            </div>
            <div class="bg-panel p-6 rounded-2xl neon-border">
                <p class="text-gray-400 text-sm mb-2 uppercase tracking-wider font-bold">PnL Semanal</p>
                <h3 id="weekly-pnl" class="text-3xl font-bold font-mono">0.00%</h3>
            </div>
        </div>

        <!-- Ranking Table -->
        <div class="bg-panel p-8 rounded-2xl mb-20">
            <h2 class="text-2xl font-bold mb-8 neon-text flex items-center">
                <i class="fas fa-trophy mr-3"></i> Ranking de Pares por Winrate
            </h2>
            <div id="ranking-container" class="overflow-x-auto">
                <div class="animate-pulse flex space-x-4">
                    <div class="flex-1 space-y-4 py-1">
                        <div class="h-4 bg-gray-700 rounded w-3/4"></div>
                        <div class="space-y-2">
                            <div class="h-4 bg-gray-700 rounded"></div>
                            <div class="h-4 bg-gray-700 rounded w-5/6"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Estrategia -->
        <section class="mb-20">
            <h2 class="text-4xl font-bold mb-12 text-center neon-text">Nuestra Estrategia</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-panel p-8 rounded-2xl hover:border-green-500/50 transition border border-transparent">
                    <div class="w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center mb-6">
                        <i class="fas fa-crosshairs text-green-500 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4">Doble Objetivo</h3>
                    <p class="text-gray-400 leading-relaxed">Metodología avanzada con dos puntos de salida para optimizar la rentabilidad.</p>
                </div>
                <div class="bg-panel p-8 rounded-2xl hover:border-green-500/50 transition border border-transparent">
                    <div class="w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center mb-6">
                        <i class="fas fa-arrow-up-right-from-square text-green-500 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4">TP1 75%</h3>
                    <p class="text-gray-400 leading-relaxed">Cerramos el 75% de la posición en el primer objetivo para asegurar ganancias.</p>
                </div>
                <div class="bg-panel p-8 rounded-2xl hover:border-green-500/50 transition border border-transparent">
                    <div class="w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center mb-6">
                        <i class="fas fa-rocket text-green-500 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4">TP2 25%</h3>
                    <p class="text-gray-400 leading-relaxed">Mantenemos el 25% restante para capturar movimientos extendidos del mercado.</p>
                </div>
                <div class="bg-panel p-8 rounded-2xl hover:border-green-500/50 transition border border-transparent">
                    <div class="w-12 h-12 bg-green-500/10 rounded-lg flex items-center justify-center mb-6">
                        <i class="fas fa-user-shield text-green-500 text-xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4">Break-Even</h3>
                    <p class="text-gray-400 leading-relaxed">Protección de capital garantizada moviendo el Stop Loss tras el primer objetivo.</p>
                </div>
            </div>
        </section>

        <!-- Membresía -->
        <section class="text-center bg-panel p-16 rounded-[3rem] border border-green-500/20 relative overflow-hidden mb-20">
            <div class="absolute top-0 right-0 w-64 h-64 bg-green-500/5 blur-[100px]"></div>
            <h2 class="text-4xl md:text-5xl font-bold mb-6">Membresía <span class="neon-text">Premium</span></h2>
            <p class="text-gray-400 mb-10 text-lg max-w-xl mx-auto">Únete a nuestra comunidad exclusiva y empieza a recibir señales profesionales hoy mismo.</p>
            <div class="flex items-baseline justify-center mb-12">
                <span class="text-6xl font-bold neon-text font-mono">49.99</span>
                <span class="text-2xl text-gray-500 ml-3 font-bold">USDT / mes</span>
            </div>
            <a href="https://t.me/ylisto_bot" target="_blank" class="inline-block bg-green-500 hover:bg-green-600 text-black text-xl px-16 py-5 rounded-full font-bold transition transform hover:scale-105 shadow-2xl shadow-green-500/20">
                UNIRME AHORA <i class="fab fa-telegram ml-2"></i>
            </a>
        </section>
    </main>

    <footer class="p-12 border-t border-gray-800 text-center">
        <div class="max-w-4xl mx-auto">
            <p class="text-gray-500 text-sm mb-6">&copy; 2026 YLISTOBOT. Todos los derechos reservados.</p>
            <p class="text-xs text-gray-600 leading-relaxed uppercase tracking-tighter">
                Aviso de Riesgo: El trading de criptomonedas implica un riesgo sustancial de pérdida. Las estadísticas mostradas son resultados históricos y no garantizan rentabilidades futuras. Proporcionamos información basada en algoritmos, no asesoramiento financiero.
            </p>
        </div>
    </footer>

    <script>
        async function updateDashboard() {
            try {
                // Añadir un parámetro de cache-busting para asegurar que se carga el archivo más reciente
                const response = await fetch('dashboard_data.json?t=' + new Date().getTime());
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();

                // 1. Cantidad de Operaciones Cerradas
                if (data.total_closed_trades !== undefined) {
                    document.getElementById('total-trades').innerText = data.total_closed_trades;
                }

                // 2. Winrate
                if (data.win_rate !== undefined) {
                    document.getElementById('winrate').innerText = data.win_rate.toFixed(2) + '%';
                }

                // 3. PnL Diario
                if (data.pnl_diario !== undefined) {
                    const val = data.pnl_diario;
                    const el = document.getElementById('daily-pnl');
                    el.innerText = (val >= 0 ? '+' : '') + val.toFixed(2) + '%';
                    el.className = `text-3xl font-bold font-mono ${val >= 0 ? 'text-green-400' : 'text-red-400'}`;
                }

                // 4. PnL Semanal
                if (data.pnl_semanal !== undefined) {
                    const val = data.pnl_semanal;
                    const el = document.getElementById('weekly-pnl');
                    el.innerText = (val >= 0 ? '+' : '') + val.toFixed(2) + '%';
                    el.className = `text-3xl font-bold font-mono ${val >= 0 ? 'text-green-400' : 'text-red-400'}`;
                }

                // 5. Ranking de Pares
                if (data.pair_ranking && data.pair_ranking.length > 0) {
                    let html = '<table class="w-full text-left font-mono">';
                    html += `<thead class="text-gray-500 border-b border-gray-800 uppercase text-xs">
                                <tr>
                                    <th class="py-4 px-2">Par</th>
                                    <th class="py-4 px-2 text-center">Operaciones</th>
                                    <th class="py-4 px-2 text-right">Winrate</th>
                                </tr>
                            </thead>`;
                    html += '<tbody class="text-sm">';
                    
                    data.pair_ranking.forEach(item => {
                        html += `<tr class="border-b border-gray-800/30 hover:bg-white/[0.02] transition">
                                    <td class="py-4 px-2 font-bold">${item.pair}</td>
                                    <td class="py-4 px-2 text-center">${item.total}</td>
                                    <td class="py-4 px-2 text-right font-bold text-green-400">${item.win_rate.toFixed(2)}%</td>
                                 </tr>`;
                    });

                    html += '</tbody></table>';
                    document.getElementById('ranking-container').innerHTML = html;
                } else {
                    document.getElementById('ranking-container').innerHTML = '<p class="text-gray-500">No hay datos de ranking disponibles.</p>';
                }

            } catch (e) {
                console.error("Error al actualizar el dashboard:", e);
                // Puedes poner un estado de error en la UI si lo deseas
                document.getElementById('total-trades').innerText = 'Error';
                document.getElementById('winrate').innerText = 'Error';
            }
        }

        // Llamar a la función para la carga inicial y luego cada 30 segundos
        updateDashboard();
        setInterval(updateDashboard, 30000);
    </script>
</body>
</html>